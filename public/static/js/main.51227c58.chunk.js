(this["webpackJsonpphase-4-rails-api-code-challenge-superheroes-client"]=this["webpackJsonpphase-4-rails-api-code-challenge-superheroes-client"]||[]).push([[0],{20:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(14),s=n.n(c),a=(n(20),n(2)),o=n(5),i=n(0);var j=function(){return Object(i.jsxs)("header",{children:[Object(i.jsx)("h1",{children:Object(i.jsx)(o.b,{to:"/",children:"Super Heroes"})}),Object(i.jsx)("nav",{class:"navbar navbar-expand-lg bg-light",children:Object(i.jsxs)("div",{class:"container-fluid",children:[Object(i.jsx)(o.b,{class:"navbar-brand",to:"/",children:"Heroes"}),Object(i.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{class:"navbar-toggler-icon"})}),Object(i.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(i.jsx)("ul",{class:"navbar-nav",children:Object(i.jsx)("li",{class:"nav-item",children:Object(i.jsx)(o.b,{class:"nav-link",to:"/hero_powers/new",children:"Add New"})})})})]})})]})},l=n(4);var d=function(){var e=Object(r.useState)({data:null,error:null,status:"pending"}),t=Object(l.a)(e,2),n=t[0],c=n.data,s=n.error,j=n.status,d=t[1],h=Object(a.g)().id;return Object(r.useEffect)((function(){fetch("/api/heroes/".concat(h)).then((function(e){e.ok?e.json().then((function(e){return d({data:e,error:null,status:"resolved"})})):e.json().then((function(e){return d({data:null,error:e.error,status:"rejected"})}))}))}),[h]),"pending"===j?Object(i.jsx)("h1",{children:"Loading..."}):"rejected"===j?Object(i.jsxs)("h1",{children:["Error: ",s.error]}):Object(i.jsxs)("section",{children:[Object(i.jsx)("h2",{children:c.super_name}),Object(i.jsxs)("h2",{children:["AKA ",c.name]}),Object(i.jsx)("h3",{children:"Powers:"}),Object(i.jsx)("ul",{children:c.powers.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:"/powers/".concat(e.id),children:e.name})},c.id)}))}),Object(i.jsx)(o.b,{to:"/hero_powers/new",children:"Add Hero Power"})]})};var h=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){fetch("/api/heroes").then((function(e){return e.json()})).then(c)}),[]),Object(i.jsxs)("section",{children:[Object(i.jsx)("h2",{children:"All Heroes"}),Object(i.jsx)("ul",{children:n.map((function(e){return Object(i.jsx)("li",{className:"card my-4",children:Object(i.jsx)(o.b,{to:"/heroes/".concat(e.id),children:e.super_name})},e.id)}))})]})};var u=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),j=o[0],d=o[1],h=Object(r.useState)(""),u=Object(l.a)(h,2),b=u[0],O=u[1],p=Object(r.useState)(""),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(r.useState)(""),m=Object(l.a)(g,2),w=m[0],S=m[1],_=Object(r.useState)([]),y=Object(l.a)(_,2),E=y[0],P=y[1],k=Object(a.f)();return Object(r.useEffect)((function(){fetch("/api/heroes").then((function(e){return e.json()})).then(c)}),[]),Object(r.useEffect)((function(){fetch("/api/powers").then((function(e){return e.json()})).then(d)}),[]),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={hero_id:b,power_id:f,strength:w};fetch("/api/hero_powers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?k.push("/heroes/".concat(b)):e.json().then((function(e){return P(e.errors)}))}))},children:[Object(i.jsx)("label",{htmlFor:"power_id",children:"Power:"}),Object(i.jsxs)("select",{id:"power_id",name:"power_id",value:f,onChange:function(e){return v(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Select a power"}),j.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(i.jsx)("label",{htmlFor:"hero_id",children:"Hero:"}),Object(i.jsxs)("select",{id:"hero_id",name:"hero_id",value:b,onChange:function(e){return O(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Select a hero"}),n.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(i.jsx)("label",{htmlFor:"strength",children:"Strength:"}),Object(i.jsx)("input",{type:"text",id:"strength",name:"strength",value:w,onChange:function(e){return S(e.target.value)}}),E.length>0?E.map((function(e){return Object(i.jsx)("p",{style:{color:"red"},children:e},e)})):null,Object(i.jsx)("button",{type:"submit",children:"Add Hero Power"})]})};var b=function(){var e=Object(r.useState)({data:null,error:null,status:"pending"}),t=Object(l.a)(e,2),n=t[0],c=n.data,s=n.error,j=n.status,d=t[1],h=Object(a.g)().id;return Object(r.useEffect)((function(){fetch("/api/powers/".concat(h)).then((function(e){e.ok?e.json().then((function(e){return d({data:e,error:null,status:"resolved"})})):e.json().then((function(e){return d({data:null,error:e.error,status:"rejected"})}))}))}),[h]),"pending"===j?Object(i.jsx)("h1",{children:"Loading..."}):"rejected"===j?Object(i.jsxs)("h1",{children:["Error: ",s.error]}):Object(i.jsxs)("section",{children:[Object(i.jsx)("h2",{children:c.name}),Object(i.jsx)("p",{children:c.description}),Object(i.jsx)("p",{children:Object(i.jsx)(o.b,{to:"/hero_powers/new",children:"Add Hero Power"})}),Object(i.jsx)("p",{children:Object(i.jsx)(o.b,{to:"/powers/".concat(c.id,"/edit"),children:"Edit Power Description"})})]})};var O=function(){var e=Object(r.useState)({data:null,errors:[],status:"pending"}),t=Object(l.a)(e,2),n=t[0],c=n.data,s=n.errors,o=n.status,j=t[1],d=Object(r.useState)(""),h=Object(l.a)(d,2),u=h[0],b=h[1],O=Object(a.f)(),p=Object(a.g)().id;return Object(r.useEffect)((function(){fetch("/api/powers/".concat(p)).then((function(e){e.ok?e.json().then((function(e){j({data:e,errors:[],status:"resolved"}),b(e.description)})):e.json().then((function(e){return j({data:null,errors:[e.error],status:"rejected"})}))}))}),[p]),"pending"===o?Object(i.jsx)("h1",{children:"Loading..."}):Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/powers/".concat(c.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:u})}).then((function(e){e.ok?O.push("/powers/".concat(c.id)):e.json().then((function(e){return j({data:c,errors:e.errors,status:"rejected"})}))}))},children:[Object(i.jsxs)("h2",{children:["Editing ",c.name]}),Object(i.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(i.jsx)("textarea",{id:"description",name:"description",rows:"4",value:u,onChange:function(e){return b(e.target.value)}}),s.length>0?s.map((function(e){return Object(i.jsx)("p",{style:{color:"red"},children:e},e)})):null,Object(i.jsx)("button",{type:"submit",children:"Update Power"})]})};var p=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(j,{}),Object(i.jsx)("main",{children:Object(i.jsxs)(a.c,{children:[Object(i.jsx)(a.a,{exact:!0,path:"/hero_powers/new",children:Object(i.jsx)(u,{})}),Object(i.jsx)(a.a,{exact:!0,path:"/powers/:id/edit",children:Object(i.jsx)(O,{})}),Object(i.jsx)(a.a,{exact:!0,path:"/powers/:id",children:Object(i.jsx)(b,{})}),Object(i.jsx)(a.a,{exact:!0,path:"/heroes/:id",children:Object(i.jsx)(d,{})}),Object(i.jsx)(a.a,{exact:!0,path:"/",children:Object(i.jsx)(h,{})})]})})]})};s.a.render(Object(i.jsx)(o.a,{children:Object(i.jsx)(p,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.51227c58.chunk.js.map